# tinywasm/fetch

A minimal, zero-dependency, WASM-compatible HTTP client for Go.

## Features

- **Tiny API**: `Get`, `Post`, `Put`, `Delete`
- **WASM Compatible**: Works in browsers using `fetch` API and in standard Go
- **Zero Dependencies**: No external libraries required
- **Async Support**: `Send` (callback) and `Dispatch` (fire-and-forget)

## Installation

```bash
go get github.com/tinywasm/fetch
```

## Usage

```go
package main

import (
	"fmt"
	"github.com/tinywasm/fetch"
)

func main() {
	// Simple GET request
	fetch.Get("https://api.example.com/data").
		Send(func(resp *fetch.Response, err error) {
			if err != nil {
				fmt.Println("Error:", err)
				return
			}
			fmt.Println("Status:", resp.Status)
			fmt.Println("Body:", resp.Text())
		})

	// POST request with JSON body
	body := []byte(`{"name":"Alice"}`)
	fetch.Post("https://api.example.com/users").
		Header("Content-Type", "application/json").
		Body(body).
		Timeout(5000).
		Send(func(resp *fetch.Response, err error) {
			if err != nil {
				return
			}
			fmt.Println("Created:", resp.Text())
		})
}
```

## Global Handler (Dispatch)

For fire-and-forget requests or centralized error handling:

```go
func main() {
	// Set a global handler
	fetch.SetHandler(func(resp *fetch.Response) {
		if resp.Status >= 400 {
			fmt.Printf("Request to %s failed with %d\n", resp.RequestURL, resp.Status)
		}
	})

	// Fire and forget
	fetch.Post("/analytics").Body([]byte("event=click")).Dispatch()
}
```

<!-- START_SECTION:BADGES_SECTION -->
<a href="docs/img/badges.svg"><img src="docs/img/badges.svg" alt="Project Badges" title="Generated by badges package from github.com/cdvelop/devscripts"></a>
<!-- END_SECTION:BADGES_SECTION -->